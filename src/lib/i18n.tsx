'use client'

import { createContext, useContext, useState, useEffect, ReactNode } from 'react'

export const LANGUAGES = [
  { code: 'fr', name: 'FranÃ§ais', flag: 'ğŸ‡«ğŸ‡·' },
  { code: 'en', name: 'English', flag: 'ğŸ‡¬ğŸ‡§' },
  { code: 'es', name: 'EspaÃ±ol', flag: 'ğŸ‡ªğŸ‡¸' },
  { code: 'de', name: 'Deutsch', flag: 'ğŸ‡©ğŸ‡ª' },
  { code: 'it', name: 'Italiano', flag: 'ğŸ‡®ğŸ‡¹' },
  { code: 'pt', name: 'PortuguÃªs', flag: 'ğŸ‡µğŸ‡¹' },
  { code: 'zh', name: 'ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³' },
  { code: 'ja', name: 'æ—¥æœ¬èª', flag: 'ğŸ‡¯ğŸ‡µ' },
  { code: 'ar', name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', flag: 'ğŸ‡¸ğŸ‡¦' },
]

type LanguageCode = 'fr' | 'en' | 'es' | 'de' | 'it' | 'pt' | 'zh' | 'ja' | 'ar'

interface LanguageContextType {
  language: LanguageCode
  setLanguage: (lang: LanguageCode) => void
  t: (key: string) => string
}

const translations: Record<LanguageCode, Record<string, string>> = {
  fr: {
    // Navigation
    dashboard: 'Tableau de bord',
    documents: 'Documents',
    billing: 'Abonnement',
    settings: 'ParamÃ¨tres',
    logout: 'DÃ©connexion',
    login: 'Connexion',
    signup: 'Essai gratuit',
    features: 'FonctionnalitÃ©s',
    pricing: 'Tarifs',
    // Document page
    summary: 'RÃ©sumÃ©',
    summaryDesc: 'Les points clÃ©s de votre document',
    risks: 'Risques & Questions',
    risksDesc: 'Points d\'attention et questions Ã  poser',
    risksIdentified: 'Risques identifiÃ©s',
    noRisks: 'Aucun risque significatif identifiÃ©',
    questionsToAsk: 'Questions Ã  poser',
    noQuestions: 'Aucune question suggÃ©rÃ©e',
    keyClauses: 'Clauses clÃ©s',
    suggestedActions: 'Actions suggÃ©rÃ©es',
    easyReading: 'Lecture facile',
    easyReadingDesc: 'Le document expliquÃ© simplement',
    notAvailable: 'Non disponible',
    // Flashcards
    flashcards: 'Flashcards',
    flashcardsDesc: 'CrÃ©ez des cartes mÃ©moire pour rÃ©viser',
    generateFlashcards: 'GÃ©nÃ©rer des Flashcards',
    cards: 'cartes',
    view: 'Voir',
    regenerate: 'RegÃ©nÃ©rer',
    question: 'Question',
    answer: 'RÃ©ponse',
    clickToReveal: 'Cliquez pour rÃ©vÃ©ler la rÃ©ponse',
    shuffle: 'MÃ©langer',
    restart: 'Recommencer',
    exportCSV: 'Exporter CSV',
    delete: 'Supprimer',
    // Slides
    slides: 'Slides',
    slidesDesc: 'CrÃ©ez des slides pro en quelques secondes',
    generateSlides: 'GÃ©nÃ©rer une PrÃ©sentation',
    presentation: 'PrÃ©sentation',
    fullscreen: 'Plein Ã©cran',
    downloadHTML: 'TÃ©lÃ©charger HTML',
    // Common
    translate: 'Traduire',
    translating: 'Traduction...',
    generate: 'GÃ©nÃ©rer',
    generating: 'GÃ©nÃ©ration en cours...',
    download: 'TÃ©lÃ©charger',
    copy: 'Copier',
    copySummary: 'Copier le rÃ©sumÃ©',
    copyQuestions: 'Copier les questions',
    previous: 'PrÃ©cÃ©dent',
    next: 'Suivant',
    // Chat
    chatTitle: 'Discutez avec votre PDF',
    chatDesc: 'Posez n\'importe quelle question et obtenez des rÃ©ponses instantanÃ©es.',
    askQuestion: 'Posez votre question...',
    // Trial
    daysRemaining: 'jours restants',
    trialExpired: 'Essai expirÃ©',
    // Misc
    back: 'Retour',
    processing: 'Traitement en cours...',
    uploadPDF: 'TÃ©lÃ©verser un PDF',
    myDocuments: 'Mes documents',
  },
  en: {
    dashboard: 'Dashboard',
    documents: 'Documents',
    billing: 'Billing',
    settings: 'Settings',
    logout: 'Log out',
    login: 'Log in',
    signup: 'Free trial',
    features: 'Features',
    pricing: 'Pricing',
    summary: 'Summary',
    summaryDesc: 'Key points of your document',
    risks: 'Risks & Questions',
    risksDesc: 'Points of attention and questions to ask',
    risksIdentified: 'Identified risks',
    noRisks: 'No significant risk identified',
    questionsToAsk: 'Questions to ask',
    noQuestions: 'No suggested questions',
    keyClauses: 'Key clauses',
    suggestedActions: 'Suggested actions',
    easyReading: 'Easy Reading',
    easyReadingDesc: 'The document explained simply',
    notAvailable: 'Not available',
    flashcards: 'Flashcards',
    flashcardsDesc: 'Create memory cards to study',
    generateFlashcards: 'Generate Flashcards',
    cards: 'cards',
    view: 'View',
    regenerate: 'Regenerate',
    question: 'Question',
    answer: 'Answer',
    clickToReveal: 'Click to reveal the answer',
    shuffle: 'Shuffle',
    restart: 'Restart',
    exportCSV: 'Export CSV',
    delete: 'Delete',
    slides: 'Slides',
    slidesDesc: 'Create pro slides in seconds',
    generateSlides: 'Generate Presentation',
    presentation: 'Presentation',
    fullscreen: 'Fullscreen',
    downloadHTML: 'Download HTML',
    translate: 'Translate',
    translating: 'Translating...',
    generate: 'Generate',
    generating: 'Generating...',
    download: 'Download',
    copy: 'Copy',
    copySummary: 'Copy summary',
    copyQuestions: 'Copy questions',
    previous: 'Previous',
    next: 'Next',
    chatTitle: 'Chat with your PDF',
    chatDesc: 'Ask any question and get instant answers.',
    askQuestion: 'Ask your question...',
    daysRemaining: 'days left',
    trialExpired: 'Trial expired',
    back: 'Back',
    processing: 'Processing...',
    uploadPDF: 'Upload PDF',
    myDocuments: 'My documents',
  },
  es: {
    dashboard: 'Panel',
    documents: 'Documentos',
    billing: 'FacturaciÃ³n',
    settings: 'Ajustes',
    logout: 'Cerrar sesiÃ³n',
    login: 'Iniciar sesiÃ³n',
    signup: 'Prueba gratis',
    features: 'Funciones',
    pricing: 'Precios',
    summary: 'Resumen',
    summaryDesc: 'Puntos clave de tu documento',
    risks: 'Riesgos y Preguntas',
    risksDesc: 'Puntos de atenciÃ³n y preguntas',
    risksIdentified: 'Riesgos identificados',
    noRisks: 'Sin riesgos significativos',
    questionsToAsk: 'Preguntas a hacer',
    noQuestions: 'Sin preguntas sugeridas',
    keyClauses: 'ClÃ¡usulas clave',
    suggestedActions: 'Acciones sugeridas',
    easyReading: 'Lectura fÃ¡cil',
    easyReadingDesc: 'El documento explicado simplemente',
    notAvailable: 'No disponible',
    flashcards: 'Tarjetas',
    flashcardsDesc: 'Crea tarjetas de memoria para estudiar',
    generateFlashcards: 'Generar Tarjetas',
    cards: 'tarjetas',
    view: 'Ver',
    regenerate: 'Regenerar',
    question: 'Pregunta',
    answer: 'Respuesta',
    clickToReveal: 'Clic para revelar',
    shuffle: 'Mezclar',
    restart: 'Reiniciar',
    exportCSV: 'Exportar CSV',
    delete: 'Eliminar',
    slides: 'Diapositivas',
    slidesDesc: 'Crea diapositivas pro en segundos',
    generateSlides: 'Generar PresentaciÃ³n',
    presentation: 'PresentaciÃ³n',
    fullscreen: 'Pantalla completa',
    downloadHTML: 'Descargar HTML',
    translate: 'Traducir',
    translating: 'Traduciendo...',
    generate: 'Generar',
    generating: 'Generando...',
    download: 'Descargar',
    copy: 'Copiar',
    copySummary: 'Copiar resumen',
    copyQuestions: 'Copiar preguntas',
    previous: 'Anterior',
    next: 'Siguiente',
    chatTitle: 'Chatea con tu PDF',
    chatDesc: 'Haz cualquier pregunta y obtÃ©n respuestas.',
    askQuestion: 'Haz tu pregunta...',
    daysRemaining: 'dÃ­as restantes',
    trialExpired: 'Prueba expirada',
    back: 'Volver',
    processing: 'Procesando...',
    uploadPDF: 'Subir PDF',
    myDocuments: 'Mis documentos',
  },
  de: {
    dashboard: 'Dashboard',
    documents: 'Dokumente',
    billing: 'Abrechnung',
    settings: 'Einstellungen',
    logout: 'Abmelden',
    login: 'Anmelden',
    signup: 'Kostenlos testen',
    features: 'Funktionen',
    pricing: 'Preise',
    summary: 'Zusammenfassung',
    summaryDesc: 'Wichtige Punkte Ihres Dokuments',
    risks: 'Risiken & Fragen',
    risksDesc: 'Achtungspunkte und Fragen',
    risksIdentified: 'Identifizierte Risiken',
    noRisks: 'Keine wesentlichen Risiken',
    questionsToAsk: 'Zu stellende Fragen',
    noQuestions: 'Keine vorgeschlagenen Fragen',
    keyClauses: 'Wichtige Klauseln',
    suggestedActions: 'Vorgeschlagene Aktionen',
    easyReading: 'Einfaches Lesen',
    easyReadingDesc: 'Das Dokument einfach erklÃ¤rt',
    notAvailable: 'Nicht verfÃ¼gbar',
    flashcards: 'Karteikarten',
    flashcardsDesc: 'Erstellen Sie Lernkarten',
    generateFlashcards: 'Karteikarten generieren',
    cards: 'Karten',
    view: 'Ansehen',
    regenerate: 'Neu generieren',
    question: 'Frage',
    answer: 'Antwort',
    clickToReveal: 'Klicken zum Anzeigen',
    shuffle: 'Mischen',
    restart: 'Neustart',
    exportCSV: 'CSV exportieren',
    delete: 'LÃ¶schen',
    slides: 'Folien',
    slidesDesc: 'Erstellen Sie Profi-Folien in Sekunden',
    generateSlides: 'PrÃ¤sentation erstellen',
    presentation: 'PrÃ¤sentation',
    fullscreen: 'Vollbild',
    downloadHTML: 'HTML herunterladen',
    translate: 'Ãœbersetzen',
    translating: 'Ãœbersetze...',
    generate: 'Generieren',
    generating: 'Generiere...',
    download: 'Herunterladen',
    copy: 'Kopieren',
    copySummary: 'Zusammenfassung kopieren',
    copyQuestions: 'Fragen kopieren',
    previous: 'ZurÃ¼ck',
    next: 'Weiter',
    chatTitle: 'Chatten Sie mit Ihrem PDF',
    chatDesc: 'Stellen Sie Fragen und erhalten Sie Antworten.',
    askQuestion: 'Stellen Sie Ihre Frage...',
    daysRemaining: 'Tage Ã¼brig',
    trialExpired: 'Testversion abgelaufen',
    back: 'ZurÃ¼ck',
    processing: 'Verarbeitung...',
    uploadPDF: 'PDF hochladen',
    myDocuments: 'Meine Dokumente',
  },
  it: {
    dashboard: 'Pannello',
    documents: 'Documenti',
    billing: 'Fatturazione',
    settings: 'Impostazioni',
    logout: 'Esci',
    login: 'Accedi',
    signup: 'Prova gratuita',
    features: 'FunzionalitÃ ',
    pricing: 'Prezzi',
    summary: 'Riepilogo',
    summaryDesc: 'Punti chiave del documento',
    risks: 'Rischi e Domande',
    risksDesc: 'Punti di attenzione e domande',
    risksIdentified: 'Rischi identificati',
    noRisks: 'Nessun rischio significativo',
    questionsToAsk: 'Domande da fare',
    noQuestions: 'Nessuna domanda suggerita',
    keyClauses: 'Clausole chiave',
    suggestedActions: 'Azioni suggerite',
    easyReading: 'Lettura facile',
    easyReadingDesc: 'Il documento spiegato semplicemente',
    notAvailable: 'Non disponibile',
    flashcards: 'Flashcard',
    flashcardsDesc: 'Crea schede di memoria per studiare',
    generateFlashcards: 'Genera Flashcard',
    cards: 'schede',
    view: 'Vedi',
    regenerate: 'Rigenera',
    question: 'Domanda',
    answer: 'Risposta',
    clickToReveal: 'Clicca per rivelare',
    shuffle: 'Mescola',
    restart: 'Ricomincia',
    exportCSV: 'Esporta CSV',
    delete: 'Elimina',
    slides: 'Diapositive',
    slidesDesc: 'Crea slide professionali in secondi',
    generateSlides: 'Genera Presentazione',
    presentation: 'Presentazione',
    fullscreen: 'Schermo intero',
    downloadHTML: 'Scarica HTML',
    translate: 'Traduci',
    translating: 'Traduzione...',
    generate: 'Genera',
    generating: 'Generazione...',
    download: 'Scarica',
    copy: 'Copia',
    copySummary: 'Copia riepilogo',
    copyQuestions: 'Copia domande',
    previous: 'Precedente',
    next: 'Successivo',
    chatTitle: 'Chatta con il tuo PDF',
    chatDesc: 'Fai qualsiasi domanda e ottieni risposte.',
    askQuestion: 'Fai la tua domanda...',
    daysRemaining: 'giorni rimasti',
    trialExpired: 'Prova scaduta',
    back: 'Indietro',
    processing: 'Elaborazione...',
    uploadPDF: 'Carica PDF',
    myDocuments: 'I miei documenti',
  },
  pt: {
    dashboard: 'Painel',
    documents: 'Documentos',
    billing: 'Faturamento',
    settings: 'ConfiguraÃ§Ãµes',
    logout: 'Sair',
    login: 'Entrar',
    signup: 'Teste grÃ¡tis',
    features: 'Recursos',
    pricing: 'PreÃ§os',
    summary: 'Resumo',
    summaryDesc: 'Pontos-chave do documento',
    risks: 'Riscos e Perguntas',
    risksDesc: 'Pontos de atenÃ§Ã£o e perguntas',
    risksIdentified: 'Riscos identificados',
    noRisks: 'Nenhum risco significativo',
    questionsToAsk: 'Perguntas a fazer',
    noQuestions: 'Nenhuma pergunta sugerida',
    keyClauses: 'ClÃ¡usulas-chave',
    suggestedActions: 'AÃ§Ãµes sugeridas',
    easyReading: 'Leitura fÃ¡cil',
    easyReadingDesc: 'O documento explicado simplesmente',
    notAvailable: 'NÃ£o disponÃ­vel',
    flashcards: 'Flashcards',
    flashcardsDesc: 'Crie cartÃµes de memÃ³ria para estudar',
    generateFlashcards: 'Gerar Flashcards',
    cards: 'cartÃµes',
    view: 'Ver',
    regenerate: 'Regenerar',
    question: 'Pergunta',
    answer: 'Resposta',
    clickToReveal: 'Clique para revelar',
    shuffle: 'Embaralhar',
    restart: 'RecomeÃ§ar',
    exportCSV: 'Exportar CSV',
    delete: 'Excluir',
    slides: 'Slides',
    slidesDesc: 'Crie slides profissionais em segundos',
    generateSlides: 'Gerar ApresentaÃ§Ã£o',
    presentation: 'ApresentaÃ§Ã£o',
    fullscreen: 'Tela cheia',
    downloadHTML: 'Baixar HTML',
    translate: 'Traduzir',
    translating: 'Traduzindo...',
    generate: 'Gerar',
    generating: 'Gerando...',
    download: 'Baixar',
    copy: 'Copiar',
    copySummary: 'Copiar resumo',
    copyQuestions: 'Copiar perguntas',
    previous: 'Anterior',
    next: 'PrÃ³ximo',
    chatTitle: 'Converse com seu PDF',
    chatDesc: 'FaÃ§a qualquer pergunta e obtenha respostas.',
    askQuestion: 'FaÃ§a sua pergunta...',
    daysRemaining: 'dias restantes',
    trialExpired: 'Teste expirado',
    back: 'Voltar',
    processing: 'Processando...',
    uploadPDF: 'Enviar PDF',
    myDocuments: 'Meus documentos',
  },
  zh: {
    dashboard: 'ä»ªè¡¨æ¿',
    documents: 'æ–‡æ¡£',
    billing: 'è´¦å•',
    settings: 'è®¾ç½®',
    logout: 'é€€å‡º',
    login: 'ç™»å½•',
    signup: 'å…è´¹è¯•ç”¨',
    features: 'åŠŸèƒ½',
    pricing: 'ä»·æ ¼',
    summary: 'æ‘˜è¦',
    summaryDesc: 'æ–‡æ¡£è¦ç‚¹',
    risks: 'é£é™©ä¸é—®é¢˜',
    risksDesc: 'æ³¨æ„äº‹é¡¹å’Œé—®é¢˜',
    risksIdentified: 'å·²è¯†åˆ«é£é™©',
    noRisks: 'æ— é‡å¤§é£é™©',
    questionsToAsk: 'è¦é—®çš„é—®é¢˜',
    noQuestions: 'æ— å»ºè®®é—®é¢˜',
    keyClauses: 'å…³é”®æ¡æ¬¾',
    suggestedActions: 'å»ºè®®æ“ä½œ',
    easyReading: 'ç®€æ˜“é˜…è¯»',
    easyReadingDesc: 'ç®€å•è§£é‡Šçš„æ–‡æ¡£',
    notAvailable: 'ä¸å¯ç”¨',
    flashcards: 'é—ªå¡',
    flashcardsDesc: 'åˆ›å»ºè®°å¿†å¡å­¦ä¹ ',
    generateFlashcards: 'ç”Ÿæˆé—ªå¡',
    cards: 'å¼ å¡ç‰‡',
    view: 'æŸ¥çœ‹',
    regenerate: 'é‡æ–°ç”Ÿæˆ',
    question: 'é—®é¢˜',
    answer: 'ç­”æ¡ˆ',
    clickToReveal: 'ç‚¹å‡»æ˜¾ç¤ºç­”æ¡ˆ',
    shuffle: 'æ‰“ä¹±',
    restart: 'é‡æ–°å¼€å§‹',
    exportCSV: 'å¯¼å‡ºCSV',
    delete: 'åˆ é™¤',
    slides: 'å¹»ç¯ç‰‡',
    slidesDesc: 'ç§’é€Ÿåˆ›å»ºä¸“ä¸šå¹»ç¯ç‰‡',
    generateSlides: 'ç”Ÿæˆæ¼”ç¤ºæ–‡ç¨¿',
    presentation: 'æ¼”ç¤ºæ–‡ç¨¿',
    fullscreen: 'å…¨å±',
    downloadHTML: 'ä¸‹è½½HTML',
    translate: 'ç¿»è¯‘',
    translating: 'ç¿»è¯‘ä¸­...',
    generate: 'ç”Ÿæˆ',
    generating: 'ç”Ÿæˆä¸­...',
    download: 'ä¸‹è½½',
    copy: 'å¤åˆ¶',
    copySummary: 'å¤åˆ¶æ‘˜è¦',
    copyQuestions: 'å¤åˆ¶é—®é¢˜',
    previous: 'ä¸Šä¸€ä¸ª',
    next: 'ä¸‹ä¸€ä¸ª',
    chatTitle: 'ä¸PDFèŠå¤©',
    chatDesc: 'æå‡ºä»»ä½•é—®é¢˜å¹¶è·å¾—å³æ—¶å›ç­”ã€‚',
    askQuestion: 'æé—®...',
    daysRemaining: 'å¤©å‰©ä½™',
    trialExpired: 'è¯•ç”¨å·²è¿‡æœŸ',
    back: 'è¿”å›',
    processing: 'å¤„ç†ä¸­...',
    uploadPDF: 'ä¸Šä¼ PDF',
    myDocuments: 'æˆ‘çš„æ–‡æ¡£',
  },
  ja: {
    dashboard: 'ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰',
    documents: 'ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ',
    billing: 'è«‹æ±‚',
    settings: 'è¨­å®š',
    logout: 'ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ',
    login: 'ãƒ­ã‚°ã‚¤ãƒ³',
    signup: 'ç„¡æ–™ãƒˆãƒ©ã‚¤ã‚¢ãƒ«',
    features: 'æ©Ÿèƒ½',
    pricing: 'æ–™é‡‘',
    summary: 'è¦ç´„',
    summaryDesc: 'ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®è¦ç‚¹',
    risks: 'ãƒªã‚¹ã‚¯ã¨è³ªå•',
    risksDesc: 'æ³¨æ„ç‚¹ã¨è³ªå•',
    risksIdentified: 'ç‰¹å®šã•ã‚ŒãŸãƒªã‚¹ã‚¯',
    noRisks: 'é‡å¤§ãªãƒªã‚¹ã‚¯ãªã—',
    questionsToAsk: 'è³ªå•ã™ã¹ãã“ã¨',
    noQuestions: 'ææ¡ˆã•ã‚ŒãŸè³ªå•ãªã—',
    keyClauses: 'é‡è¦ãªæ¡é …',
    suggestedActions: 'æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³',
    easyReading: 'ç°¡å˜ã«èª­ã‚€',
    easyReadingDesc: 'ç°¡å˜ã«èª¬æ˜ã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ',
    notAvailable: 'åˆ©ç”¨ä¸å¯',
    flashcards: 'ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰',
    flashcardsDesc: 'å­¦ç¿’ç”¨ã®ã‚«ãƒ¼ãƒ‰ã‚’ä½œæˆ',
    generateFlashcards: 'ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ã‚’ç”Ÿæˆ',
    cards: 'æšã®ã‚«ãƒ¼ãƒ‰',
    view: 'è¡¨ç¤º',
    regenerate: 'å†ç”Ÿæˆ',
    question: 'è³ªå•',
    answer: 'å›ç­”',
    clickToReveal: 'ã‚¯ãƒªãƒƒã‚¯ã—ã¦å›ç­”ã‚’è¡¨ç¤º',
    shuffle: 'ã‚·ãƒ£ãƒƒãƒ•ãƒ«',
    restart: 'æœ€åˆã‹ã‚‰',
    exportCSV: 'CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ',
    delete: 'å‰Šé™¤',
    slides: 'ã‚¹ãƒ©ã‚¤ãƒ‰',
    slidesDesc: 'æ•°ç§’ã§ãƒ—ãƒ­ã®ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ä½œæˆ',
    generateSlides: 'ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆ',
    presentation: 'ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³',
    fullscreen: 'ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³',
    downloadHTML: 'HTMLã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰',
    translate: 'ç¿»è¨³',
    translating: 'ç¿»è¨³ä¸­...',
    generate: 'ç”Ÿæˆ',
    generating: 'ç”Ÿæˆä¸­...',
    download: 'ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰',
    copy: 'ã‚³ãƒ”ãƒ¼',
    copySummary: 'è¦ç´„ã‚’ã‚³ãƒ”ãƒ¼',
    copyQuestions: 'è³ªå•ã‚’ã‚³ãƒ”ãƒ¼',
    previous: 'å‰ã¸',
    next: 'æ¬¡ã¸',
    chatTitle: 'PDFã¨ãƒãƒ£ãƒƒãƒˆ',
    chatDesc: 'è³ªå•ã‚’ã—ã¦å³åº§ã«å›ç­”ã‚’å¾—ã‚‹ã€‚',
    askQuestion: 'è³ªå•ã™ã‚‹...',
    daysRemaining: 'æ—¥æ®‹ã‚Š',
    trialExpired: 'ãƒˆãƒ©ã‚¤ã‚¢ãƒ«æœŸé™åˆ‡ã‚Œ',
    back: 'æˆ»ã‚‹',
    processing: 'å‡¦ç†ä¸­...',
    uploadPDF: 'PDFã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰',
    myDocuments: 'ãƒã‚¤ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ',
  },
  ar: {
    dashboard: 'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…',
    documents: 'Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª',
    billing: 'Ø§Ù„ÙÙˆØ§ØªÙŠØ±',
    settings: 'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª',
    logout: 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬',
    login: 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„',
    signup: 'ØªØ¬Ø±Ø¨Ø© Ù…Ø¬Ø§Ù†ÙŠØ©',
    features: 'Ø§Ù„Ù…ÙŠØ²Ø§Øª',
    pricing: 'Ø§Ù„Ø£Ø³Ø¹Ø§Ø±',
    summary: 'Ù…Ù„Ø®Øµ',
    summaryDesc: 'Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ù…Ø³ØªÙ†Ø¯',
    risks: 'Ø§Ù„Ù…Ø®Ø§Ø·Ø± ÙˆØ§Ù„Ø£Ø³Ø¦Ù„Ø©',
    risksDesc: 'Ù†Ù‚Ø§Ø· Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ ÙˆØ§Ù„Ø£Ø³Ø¦Ù„Ø©',
    risksIdentified: 'Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©',
    noRisks: 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø®Ø§Ø·Ø± ÙƒØ¨ÙŠØ±Ø©',
    questionsToAsk: 'Ø£Ø³Ø¦Ù„Ø© ÙŠØ¬Ø¨ Ø·Ø±Ø­Ù‡Ø§',
    noQuestions: 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø© Ù…Ù‚ØªØ±Ø­Ø©',
    keyClauses: 'Ø§Ù„Ø¨Ù†ÙˆØ¯ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©',
    suggestedActions: 'Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©',
    easyReading: 'Ù‚Ø±Ø§Ø¡Ø© Ø³Ù‡Ù„Ø©',
    easyReadingDesc: 'Ø§Ù„Ù…Ø³ØªÙ†Ø¯ Ù…ÙˆØ¶Ø­ Ø¨Ø¨Ø³Ø§Ø·Ø©',
    notAvailable: 'ØºÙŠØ± Ù…ØªÙˆÙØ±',
    flashcards: 'Ø¨Ø·Ø§Ù‚Ø§Øª',
    flashcardsDesc: 'Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø§Øª Ø°Ø§ÙƒØ±Ø© Ù„Ù„Ø¯Ø±Ø§Ø³Ø©',
    generateFlashcards: 'Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª',
    cards: 'Ø¨Ø·Ø§Ù‚Ø§Øª',
    view: 'Ø¹Ø±Ø¶',
    regenerate: 'Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ù†Ø´Ø§Ø¡',
    question: 'Ø³Ø¤Ø§Ù„',
    answer: 'Ø¥Ø¬Ø§Ø¨Ø©',
    clickToReveal: 'Ø§Ù†Ù‚Ø± Ù„Ù„ÙƒØ´Ù',
    shuffle: 'Ø®Ù„Ø·',
    restart: 'Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¨Ø¯Ø¡',
    exportCSV: 'ØªØµØ¯ÙŠØ± CSV',
    delete: 'Ø­Ø°Ù',
    slides: 'Ø´Ø±Ø§Ø¦Ø­',
    slidesDesc: 'Ø¥Ù†Ø´Ø§Ø¡ Ø´Ø±Ø§Ø¦Ø­ Ø§Ø­ØªØ±Ø§ÙÙŠØ© ÙÙŠ Ø«ÙˆØ§Ù†',
    generateSlides: 'Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ø±Ø¶ ØªÙ‚Ø¯ÙŠÙ…ÙŠ',
    presentation: 'Ø¹Ø±Ø¶ ØªÙ‚Ø¯ÙŠÙ…ÙŠ',
    fullscreen: 'Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©',
    downloadHTML: 'ØªØ­Ù…ÙŠÙ„ HTML',
    translate: 'ØªØ±Ø¬Ù…Ø©',
    translating: 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ±Ø¬Ù…Ø©...',
    generate: 'Ø¥Ù†Ø´Ø§Ø¡',
    generating: 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡...',
    download: 'ØªØ­Ù…ÙŠÙ„',
    copy: 'Ù†Ø³Ø®',
    copySummary: 'Ù†Ø³Ø® Ø§Ù„Ù…Ù„Ø®Øµ',
    copyQuestions: 'Ù†Ø³Ø® Ø§Ù„Ø£Ø³Ø¦Ù„Ø©',
    previous: 'Ø§Ù„Ø³Ø§Ø¨Ù‚',
    next: 'Ø§Ù„ØªØ§Ù„ÙŠ',
    chatTitle: 'ØªØ­Ø¯Ø« Ù…Ø¹ PDF',
    chatDesc: 'Ø§Ø·Ø±Ø­ Ø£ÙŠ Ø³Ø¤Ø§Ù„ ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø¥Ø¬Ø§Ø¨Ø§Øª ÙÙˆØ±ÙŠØ©.',
    askQuestion: 'Ø§Ø·Ø±Ø­ Ø³Ø¤Ø§Ù„Ùƒ...',
    daysRemaining: 'Ø£ÙŠØ§Ù… Ù…ØªØ¨Ù‚ÙŠØ©',
    trialExpired: 'Ø§Ù†ØªÙ‡Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø©',
    back: 'Ø±Ø¬ÙˆØ¹',
    processing: 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...',
    uploadPDF: 'Ø±ÙØ¹ PDF',
    myDocuments: 'Ù…Ø³ØªÙ†Ø¯Ø§ØªÙŠ',
  },
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined)

export function LanguageProvider({ children }: { children: ReactNode }) {
  const [language, setLanguageState] = useState<LanguageCode>('fr')

  useEffect(() => {
    // Detect browser language on mount
    const stored = localStorage.getItem('pdftalk-language') as LanguageCode
    if (stored && LANGUAGES.find(l => l.code === stored)) {
      setLanguageState(stored)
    } else {
      const browserLang = navigator.language.split('-')[0] as LanguageCode
      if (LANGUAGES.find(l => l.code === browserLang)) {
        setLanguageState(browserLang)
      }
    }
  }, [])

  const setLanguage = (lang: LanguageCode) => {
    setLanguageState(lang)
    localStorage.setItem('pdftalk-language', lang)
  }

  const t = (key: string): string => {
    return translations[language][key] || translations.fr[key] || key
  }

  return (
    <LanguageContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </LanguageContext.Provider>
  )
}

export function useLanguage() {
  const context = useContext(LanguageContext)
  if (!context) {
    throw new Error('useLanguage must be used within LanguageProvider')
  }
  return context
}
